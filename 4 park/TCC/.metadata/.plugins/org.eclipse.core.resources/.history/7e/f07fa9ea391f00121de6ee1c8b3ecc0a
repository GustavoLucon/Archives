package com.parkhere.main;

import java.util.ArrayList;

import android.content.Context;
import android.os.Bundle;
import android.view.Menu;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;

import com.google.android.maps.MapActivity;
import com.google.android.maps.MapController;
import com.google.android.maps.MapView;
import com.google.android.maps.OverlayItem;
import com.parkhere.R;
import com.parkhere.model.Marcador;
import com.parkhere.overlay.AreaOverlay;
import com.parkhere.overlay.ListaMarcadorOverlay;

public class ParkHereActivity extends MapActivity {
	
	private Context contexto;
	private MapView mapa;
	private MapController controle;
	
    @Override
    public void onCreate( Bundle savedInstanceState ) {
        super.onCreate( savedInstanceState );
        setContentView( R.layout.park_here_activity );
        criarTelaInicial();
    }
    
    private void criarTelaInicial() {
    	 setContentView( R.layout.park_here_activity );
    	 
    	Button botao = (Button) findViewById(R.id.button1);
    	botao.setOnClickListener(new View.OnClickListener() {
    	    public void onClick(View v) {
    	    	Sair();
    	    }
    	});
    	Button botao2 = (Button) findViewById(R.id.button2);
    	botao2.setOnClickListener(new View.OnClickListener() {
    	    public void onClick(View v) {
    	    	criarCreditos();
    	    	
    	    }
    	});
    	Button botao3 = (Button) findViewById(R.id.button3);
    	botao3.setOnClickListener(new View.OnClickListener() {
    	    public void onClick(View v) {
    	    	criarMapa();
    	    }
    	});		
	}
    
    
    
    protected void criarCreditos() {
    	setContentView( R.layout.creditos);
    	Button botao = (Button) findViewById(R.id.voltar);
    	botao.setOnClickListener(new View.OnClickListener() {
    	    public void onClick(View v) {
    	    	criarTelaInicial();
    	    }
    	});
		
	}

    
    

	// INSIRA AQUI O METODO DE PASSAR XML
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    // ALi EM CIMA

	public void criarMapa()
    {
    	setContentView( R.layout.mapa );
        setMapa( (MapView) findViewById( R.id.mapview ) );

    	setControle( getMapa().getController() );
        getMapa().setBuiltInZoomControls( true );
        getMapa().setSatellite( false );
        getControle().setZoom(14);
        
        ListaMarcadorOverlay listaOverlay = new ListaMarcadorOverlay( getResources().getDrawable( R.drawable.ic_launcher ) );
        ArrayList<OverlayItem> listaLocais = new ArrayList<OverlayItem>();
        
        Marcador itemSP = new Marcador( -23414922, -51938077 );
        AreaOverlay areaOverlay = new AreaOverlay( this, itemSP, 1000F);
        
        listaOverlay.setAreaOverlay( areaOverlay );
        
        listaLocais.add( new OverlayItem( itemSP, "Teste", "Apenas um teste" ) );
        listaOverlay.setListaOverlays( listaLocais );
        
        getMapa().getOverlays().add( listaOverlay );
        getMapa().getOverlays().add( areaOverlay );
        getControle().setCenter( itemSP );
        getMapa().invalidate();
        
    	Button botao = (Button) findViewById(R.id.voltar);
    	botao.setOnClickListener(new View.OnClickListener() {
    	    public void onClick(View v) {
    	    	criarTelaInicial();
    	    }
    	});
    	
    	Button botao2 = (Button) findViewById(R.id.buscar);
    	botao2.setOnClickListener(new View.OnClickListener() {
    	    public void onClick(View v) {
    	    	//EditText campoEndereço = (EditText) findViewById(R.id.buscarTxt);
    	    	//String endereço = campoEndereço.getText().toString();
    	    	
    	    	 //
    	    	//
    	    	//  Chamar o metodo do XML aqui passando o valor do endereço
    	    	//
    	    	//
    	    	//
    	    	
    	    }
    	});
    }

    @Override
    public boolean onCreateOptionsMenu( Menu menu ) {
        getMenuInflater().inflate( R.menu.park_here_activity, menu );
        return true;
    }

	@Override
	protected boolean isRouteDisplayed() {
		return false;
	}
	

	public MapView getMapa() {
		return mapa;
	}

	public void setMapa( MapView mapa ) {
		this.mapa = mapa;
	}
	public void Sair()
	{
		System.exit(0);
	}

	public MapController getControle() {
		return controle;
	}

	public void setControle( MapController controle ) {
		this.controle = controle;
	}

	public Context getContexto() {
		return contexto;
	}

	public void setContexto( Context contexto ) {
		this.contexto = contexto;
	}
}
